<div class="login-container">

  <div class="header-icon">
    <div class="circle">
      <span>ğŸ©º</span>
    </div>
  </div>

  <h2>Connexion</h2>
  <p class="subtitle">Bienvenue sur Virtual Doctor</p>

  <form [formGroup]="form" (ngSubmit)="submit()">

    <!-- Email -->
    <div class="field">
      <label>Email</label>
      <div class="input-wrapper">
        <span class="input-icon">ğŸ“§</span>
        <input
          type="email"
          formControlName="email"
          placeholder="Email"
          autocomplete="email"
          [class.error]="isFieldInvalid('email')"
        />
      </div>
      <div *ngIf="isFieldInvalid('email')" class="error-message">
        Veuillez entrer un email valide
      </div>
    </div>

    <!-- Mot de passe -->
    <div class="field">
      <label>Mot de passe</label>
      <div class="input-wrapper password-wrapper">
        <span class="input-icon">ğŸ”’</span>
        <input
          [type]="hidePassword() ? 'password' : 'text'"
          formControlName="password"
          placeholder="Mot de passe"
          autocomplete="current-password"
          [class.error]="isFieldInvalid('password')"
        />
        <span class="eye-icon" (click)="hidePassword.set(!hidePassword())">
          {{ hidePassword() ? 'ğŸ‘' : 'ğŸ‘â€ğŸ—¨' }}
        </span>
      </div>
      <div *ngIf="isFieldInvalid('password')" class="error-message">
        Le mot de passe est requis
      </div>
    </div>

    <!-- Mot de passe oubliÃ© -->
    <a class="forgot" routerLink="/forgot-password">Mot de passe oubliÃ© ?</a>

    <!-- Bouton de connexion -->
    <button class="submit" type="submit" [disabled]="loading()">
      {{ loading() ? 'Connexion...' : 'Se connecter' }}
    </button>

    <!-- Lien d'inscription -->
    <div class="login-link">
      Pas encore de compte ?
      <a routerLink="/register">S'inscrire</a>
    </div>

  </form>

  <p class="footer">Votre santÃ©, notre prioritÃ© â¤ï¸</p>

</div>

<!-- Toast -->
<div *ngIf="toastMessage()" [class]="'toast ' + toastType()">
  {{ toastMessage() }}
</div>